name: CI/CD Pipeline

on:
  push:
    branches:
      - main # à¹ƒà¸«à¹‰à¸—à¸³à¸‡à¸²à¸™à¹€à¸¡à¸·à¹ˆà¸­à¸¡à¸µà¸à¸²à¸£ Push à¹‚à¸„à¹‰à¸”à¹€à¸‚à¹‰à¸² branch main

jobs:
  build_and_deploy:
    runs-on: ubuntu-latest
    
    steps:
      - name: ğŸ“¥ Checkout code
        uses: actions/checkout@v3

      - name: âš™ï¸ Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
          cache: 'npm'

      - name: ğŸ“¦ Install Frontend Dependencies
        working-directory: ./frontend
        run: npm install

      - name: ğŸ—ï¸ Build Frontend
        working-directory: ./frontend
        run: npm run build

      - name: ğŸš€ Deploy to hosting (à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸à¸²à¸£à¸™à¸³à¹„à¸›à¹ƒà¸Šà¹‰)
        # à¸•à¸£à¸‡à¸™à¸µà¹‰à¸ªà¸²à¸¡à¸²à¸£à¸–à¹ƒà¸ªà¹ˆ Action à¸ªà¸³à¸«à¸£à¸±à¸š Deploy à¹„à¸›à¸¢à¸±à¸‡à¹€à¸‹à¸´à¸£à¹Œà¸Ÿà¹€à¸§à¸­à¸£à¹Œà¸—à¸µà¹ˆà¸„à¸¸à¸“à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹„à¸”à¹‰
        # à¹€à¸Šà¹ˆà¸™ Netlify, Vercel, AWS S3, à¸«à¸£à¸·à¸­ FTP Server
        run: echo "ğŸ‰ Build completed. Ready to deploy ./frontend/dist"
